{% extends "layout.html" %}

{% block title %}
    <title>Modifier une action</title>
{% endblock %}

{% block body %}
<div class="container mt-4">
    <h2>Modifier une action</h2>
    <br>

    <form method="post" action="/action/edit_validation">
        <input type="hidden" name="id_action" value="{{ action.id_action }}">

        <div class="form-group">
            <div class="col-md-12 mb-3">
                <label for="libelle_action" class="form-label">Libell√© *</label>
                <input type="text" id="libelle_action" name="libelle_action" class="form-control" value="{{ action.libelle_action }}" required>
            </div>

            <div class="form-group">
                <label for="type_action_id" class="form-label">Type</label>
                <select id="type_action_id" name="type_action_id" class="form-select" required>
                    {% for t in types %}
                        <option value="{{ t.id_type_action }}" {% if t.id_type_action == action.type_action_id %}selected{% endif %}>
                            {{ t.libelle_type_action }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="parcelle_id" class="form-label">Parcelle *</label>
                <select id="parcelle_id" name="parcelle_id" class="form-select" required>
                    {% for p in parcelles %}
                        <option value="{{ p.id_parcelle }}" {% if p.id_parcelle == action.parcelle_id %}selected{% endif %}>
                            {{ p.id_parcelle }}
                        </option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="date_action" class="form-label">Date</label>
                <input type="date" id="date_action" name="date_action" class="form-control" value="{{ action.date_action }}" required>
            </div>
        </div>

        <div class="mt-3">
            <button type="submit" class="btn btn-success me-3">Enregistrer</button>
            <a href="/action/show" class="btn btn-secondary">Retour</a>
        </div>
    </form>
</div>
{% endblock %}